<html>
  <head>      
    <script language="javascript" src="processing.js"></script>
    <script language="javascript" src="init.js"></script>
  </head>

  <body>
    <script>
      (function() {
        function init() {
          var debug = document.getElementById('#debug');
        }

        addEventListener( 'DOMContentLoaded', function() { init() }, false );
      })();
    </script>  
    <script target="#fft" type="application/processing">
    int ittr = 1;    
    int avgTime;
    int totalTime = 0;

    void setup() {
      size(512, 400);
    }
    
    void draw() {

      background(0, 0, 30);
      var strokeCount = 0;
      
      strokeWeight(1);

      var magnitude = 1;

      var startTime = new Date().getTime();
      
      for ( int i = 0; i < width; i++ ) {
        var magnitude = Math.random() * 255;

        stroke(0, 200, 200, magnitude);
        line(i, height, i, height - magnitude);
        strokeCount++;

        stroke(200, 0, 0, magnitude);
        line(i, 0, i, magnitude);
        strokeCount++;
      }
      var endTime = new Date().getTime();
      
      totalTime += endTime - startTime 
      avgTime = Math.round(totalTime / ittr);

      debug.innerHTML =  "Stroke count: " + strokeCount + " Average Time per frame (ms): " + avgTime + " this frame (ms):" + (endTime - startTime); 

      ittr++;
    } 
    </script>
    
    <div><canvas id="fft" width="200px" height="200px"></canvas></div>
    <div id="debug"></div>
  </body>
</html>
